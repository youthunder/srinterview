<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>은채의 가천대 면접 연습기</title>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Nanum Gothic', sans-serif;
        }

        body {
            background: linear-gradient(rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.7)), url('https://upload.wikimedia.org/wikipedia/commons/thumb/e/ed/Gachon.jpg/500px-Gachon.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            -webkit-overflow-scrolling: touch;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1000px;
            display: flex;
            flex-direction: column;
            gap: 30px;
            -webkit-overflow-scrolling: touch;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
        }

        h1 {
            font-family: 'Jua', sans-serif;
            font-size: 2.8rem;
            color: white;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.5);
            background: linear-gradient(135deg, #1e5799 0%, #207cca 100%);
            padding: 15px 30px;
            border-radius: 15px;
            display: inline-block;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        h2 {
            font-size: 1.6rem;
            color: white;
            font-family: 'Jua', sans-serif;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);
            background-color: rgba(0, 0, 0, 0.3);
            padding: 10px 20px;
            border-radius: 10px;
            display: inline-block;
            margin-top: 10px;
        }

        .timer-container {
            background: linear-gradient(135deg, #1e5799 0%, #207cca 100%);
            border-radius: 15px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .timer {
            font-size: 2.5rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            margin-bottom: 10px;
        }

        .timer-controls {
            display: flex;
            gap: 15px;
        }

        .timer-controls button {
            background-color: white;
            color: #1e5799;
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            min-height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .timer-controls button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .timer-controls button:active {
            transform: translateY(-1px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .tab-container {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid #e0e0e0;
        }

        .tab {
            flex: 1;
            text-align: center;
            padding: 15px 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            color: #555;
            border-bottom: 3px solid transparent;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
        }

        .tab:hover {
            background-color: #f5f5f5;
            color: #1e5799;
        }

        .tab:active {
            background-color: #e8f4fd;
            transform: scale(0.98);
        }

        .tab.active {
            color: #1e5799;
            border-bottom-color: #1e5799;
            background-color: #f0f8ff;
        }

        .flashcard {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            min-height: 400px;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .set-title {
            position: absolute;
            top: 15px;
            left: 20px;
            font-size: 1.4rem;
            font-weight: bold;
            color: #1e5799;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 8px 15px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            z-index: 10;
        }

        .question {
            font-size: 2rem;
            margin: 60px auto 30px;
            text-align: center;
            color: #1e5799;
            font-weight: bold;
            max-width: 90%;
            position: relative;
            line-height: 1.4;
        }

        .question::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 4px;
            background: linear-gradient(90deg, transparent, #1e5799, transparent);
        }

        .answer-section {
            margin-top: 30px;
            display: none;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
        }

        .section-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #1e5799;
        }

        .bookmark-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 2rem;
            color: #ddd;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 10px;
            border-radius: 50%;
            min-width: 50px;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        .bookmark-button:hover {
            background-color: rgba(0, 0, 0, 0.1);
            transform: scale(1.1);
        }

        .bookmark-button.active {
            color: #ffcc00;
            background-color: rgba(255, 204, 0, 0.1);
            animation: pulse 1s ease;
        }

        .bookmark-button:active {
            transform: scale(0.95);
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .navigation {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .nav-button {
            padding: 15px 30px;
            background: linear-gradient(135deg, #1e5799 0%, #207cca 100%);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(30, 87, 153, 0.3);
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(30, 87, 153, 0.4);
        }

        .nav-button:active {
            transform: translateY(-1px);
            box-shadow: 0 8px 15px rgba(30, 87, 153, 0.4);
        }

        .hidden {
            display: none;
        }

        textarea {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 8px;
            margin-top: 10px;
            resize: vertical;
            font-family: 'Nanum Gothic', sans-serif;
        }

        .save-button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            margin-top: 10px;
            cursor: pointer;
            font-weight: bold;
        }

        .save-button:hover {
            background: #45a049;
        }

        /* 모바일 반응형 디자인 */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                gap: 20px;
            }

            h1 {
                font-size: 2.2rem;
                padding: 12px 20px;
            }

            h2 {
                font-size: 1.4rem;
                padding: 8px 15px;
            }

            .timer {
                font-size: 2rem;
            }

            .timer-controls {
                flex-direction: column;
                gap: 10px;
            }

            .timer-controls button {
                width: 100%;
                font-size: 0.9rem;
            }

            .tabs {
                flex-direction: column;
            }

            .tab {
                font-size: 0.8rem;
                padding: 12px 8px;
                min-height: 45px;
            }

            .flashcard {
                padding: 30px 20px;
                min-height: 350px;
            }

            .question {
                font-size: 1.6rem;
                margin: 50px auto 25px;
            }

            .answer-tabs {
                flex-direction: column;
                gap: 15px;
                margin: 30px auto;
            }

            .tab-button {
                width: 100%;
                font-size: 1rem;
                padding: 12px 20px;
            }

            .navigation {
                flex-direction: column;
                gap: 15px;
            }

            .nav-button {
                width: 100%;
                font-size: 1rem;
                padding: 12px 20px;
            }

            .bookmark-button {
                top: 15px;
                right: 15px;
                font-size: 1.8rem;
                min-width: 45px;
                min-height: 45px;
                padding: 8px;
            }

            .keywords-section,
            .example-answer-section {
                max-height: 250px;
                padding: 20px;
            }

            .section-title {
                font-size: 1.1rem;
            }

            .keywords-content,
            .example-answer-content {
                font-size: 1rem;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.8rem;
                padding: 10px 15px;
            }

            h2 {
                font-size: 1.2rem;
                padding: 6px 12px;
            }

            .question {
                font-size: 1.4rem;
                margin: 40px auto 20px;
            }

            .flashcard {
                padding: 25px 15px;
                min-height: 300px;
            }

            .bookmark-button {
                font-size: 1.6rem;
                min-width: 40px;
                min-height: 40px;
                padding: 6px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>은채의 ✨합격✨을 위한 면접 연습기</h1>
            <h2>[가천대학교 사회복지학과]</h2>
        </header>

        <div class="timer-container">
            <div class="timer">00:00</div>
            <div class="timer-controls">
                <button id="start-timer"><i class="fas fa-play"></i> 시작</button>
                <button id="pause-timer"><i class="fas fa-pause"></i> 일시정지</button>
                <button id="reset-timer"><i class="fas fa-redo"></i> 초기화</button>
            </div>
        </div>

        <div class="tab-container">
            <div class="tabs">
                <div class="tab active" data-mode="sequential">번호순으로 문제풀기</div>
                <div class="tab" data-mode="reverse">역순으로 문제풀기</div>
                <div class="tab" data-mode="random">랜덤으로 문제풀기</div>
                <div class="tab" data-mode="bookmark">북마크한 문제풀기</div>
            </div>
        </div>
        

        <div class="flashcard">
            <button class="bookmark-button"><i class="fas fa-star"></i></button>
            <div class="set-title"></div>
            <div class="question"></div>
            <div class="answer-tabs" style="display: flex; gap: 20px; justify-content: center; margin: 40px auto; flex-wrap: wrap;">
                <button class="tab-button keywords-tab" style="padding: 15px 30px; background: linear-gradient(135deg, #1e5799 0%, #207cca 100%); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: bold; transition: all 0.3s ease; font-size: 1.2rem; box-shadow: 0 10px 20px rgba(30, 87, 153, 0.3); touch-action: manipulation; -webkit-tap-highlight-color: transparent; min-height: 50px; display: flex; align-items: center; justify-content: center;">핵심 키워드</button>
                <button class="tab-button example-tab" style="padding: 15px 30px; background: linear-gradient(135deg, #1e5799 0%, #207cca 100%); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: bold; transition: all 0.3s ease; font-size: 1.2rem; box-shadow: 0 10px 20px rgba(30, 87, 153, 0.3); touch-action: manipulation; -webkit-tap-highlight-color: transparent; min-height: 50px; display: flex; align-items: center; justify-content: center;">예시 답변</button>
            </div>
            <div class="answer-sections">
                <div class="keywords-section hidden" style="margin-top: 30px; padding: 25px; border: none; border-radius: 15px; background-color: #f9f9f9; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); max-height: 300px; overflow-y: auto;">
                    <div class="section-title" style="font-weight: bold; color: #1e5799; margin-bottom: 15px; font-size: 1.3rem; border-bottom: 2px solid #e0e0e0; padding-bottom: 10px;">핵심 키워드</div>
                    <div class="keywords-content" style="line-height: 1.8; font-size: 1.1rem; color: #444;"></div>
                </div>
                <div class="example-answer-section hidden" style="margin-top: 30px; padding: 25px; border: none; border-radius: 15px; background-color: #f9f9f9; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); max-height: 300px; overflow-y: auto;">
                    <div class="section-title" style="font-weight: bold; color: #1e5799; margin-bottom: 15px; font-size: 1.3rem; border-bottom: 2px solid #e0e0e0; padding-bottom: 10px;">예시 답변</div>
                    <div class="example-answer-content" style="line-height: 1.8; font-size: 1.1rem; color: #444; white-space: pre-line;"></div>
                </div>
            </div>
        </div>

            <div class="navigation">
            <button class="nav-button" id="home"><i class="fas fa-home"></i> 처음으로</button>
            <button class="nav-button" id="prev"><i class="fas fa-arrow-left"></i> 이전 문제</button>
            <button class="nav-button" id="next">다음 문제 <i class="fas fa-arrow-right"></i></button>
        </div>
    </div>

    <script>
        // 문제 데이터 구조 정의
        const questionSets = [
            {
                id: "A-1",
                title: "💙 A. 자기소개 및 지원 동기",
                questions: [
                    {
                        id: "A-1-Q",
                        type: "main",
                        text: "1. 본인을 간단히 소개하고 사회복지학과에 지원하게 된 구체적인 이유를 말해 주세요.",
                        keywords: "사람의 마음과 관계, 독거노인 반찬 배달, 마을회관 봉사, 동네방네 프로젝트, 봉사팀 리더, 지속 가능한 도움",
                        answer: "저는 사람의 마음과 관계에 깊은 관심을 가지고 성장해 온 고은채입니다. 초등학교 때부터 사람들의 감정 변화를 관찰하는 걸 좋아했고, 가족과 함께 독거노인 반찬 배달과 마을회관 봉사를 다니며 '도움을 주는 일의 보람'을 느꼈습니다. 고등학교에서는 '동네방네 프로젝트' 봉사팀 리더로 활동하며 단순한 봉사가 아닌 '지속 가능한 도움'을 고민하게 되었습니다. 이때 전문적으로 사람을 돕고자 사회복지학과를 선택했습니다. [2학년 자율활동/봉사]",
                        userAnswer: ""
                    },
                    {
                        id: "A-1-QF",
                        type: "followup",
                        text: "1-1. 봉사 경험 중 본인을 가장 변화시킨 순간은 언제였나요?",
                        keywords: "교육청 차원의 봉사활동 프로젝트, 팀 의견, 경청, 합의, 리더십, 듣는 힘",
                        answer: "교육청 차원의 봉사활동 프로젝트에서 팀 의견이 갈렸을 때, 제 생각보다 팀의 합의를 우선하며 경청으로 문제를 해결했습니다. 이 경험은 '리더십은 말하는 힘이 아니라 듣는 힘'이라는 점을 깨닫게 했습니다. [2학년 자율활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "B-1",
                title: "💜 B. 복지 제도 및 통합교육",
                questions: [
                    {
                        id: "B-1-Q",
                        type: "main",
                        text: "2. 복지시설의 서비스 질 저하 문제를 탐구했다고 했는데, 가장 시급한 개선 과제는 무엇이라고 생각하나요?",
                        keywords: "인력 부족, 고령화, 수요 급증, 서비스 질 저하, 인력 확충, 처우 개선",
                        answer: "인력 부족입니다. 고령화로 수요는 급증하지만 현장 인력은 부족해 서비스 질이 저하됩니다. 복지 인력 확충과 처우 개선이 가장 시급합니다. [3학년 자율활동]",
                        userAnswer: ""
                    },
                    {
                        id: "B-1-QF",
                        type: "followup",
                        text: "2-1. 학생 입장에서 이 문제 해결을 위해 어떤 기여를 할 수 있을까요?",
                        keywords: "복지 관련 직업, 현장 실습형 프로그램, 복지 인력의 가치",
                        answer: "복지 관련 직업을 알리고, 현장 실습형 프로그램을 제안해 복지 인력의 가치를 알리는 활동을 이어가고 싶습니다. [3학년 자율활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "B-2",
                title: "💜 B. 복지 제도 및 통합교육",
                questions: [
                    {
                        id: "B-2-Q",
                        type: "main",
                        text: "3. 시각장애 학생이 일반 교육과정을 이수해야 하는 이유는 무엇이라고 생각하나요?",
                        keywords: "교육권 보장, 차별 해소, 사회적 차별, 통합사회, 기반",
                        answer: "교육권 보장과 차별 해소를 위해서입니다. 특수교육만으로는 사회적 차별이 심화될 수 있으며, 일반 교육 속에서 함께 배우는 경험이 통합사회의 기반이 된다고 생각합니다. [3학년 진로활동]",
                        userAnswer: ""
                    },
                    {
                        id: "B-2-QF",
                        type: "followup",
                        text: "3-1. 일반 교육과정 이수 시 학교가 준비해야 할 조건은 무엇인가요?",
                        keywords: "점자 교재, 보조 인력, 접근 가능한 정보 시스템, 물리적 장치, 제도적 장치",
                        answer: "점자 교재, 보조 인력, 접근 가능한 정보 시스템 등 물리적·제도적 장치가 먼저 마련되어야 합니다. [3학년 진로활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "C-1",
                title: "💚 C. 낙인효과 및 복지 인식",
                questions: [
                    {
                        id: "C-1-Q",
                        type: "main",
                        text: "4. 기초생활보장제도에서 낙인효과를 탐구했다고 했는데, 탐구의 결론은 무엇이었나요?",
                        keywords: "낙인, 사회적 소외, 인식 개선 교육, 대국민 캠페인, 시혜, 존엄 회복",
                        answer: "낙인으로 인한 사회적 소외가 발생하므로, 인식 개선 교육과 대국민 캠페인이 필요하다고 결론을 내렸습니다. 복지는 시혜가 아니라 존엄 회복의 과정임을 깨달았습니다. [2학년 동아리활동]",
                        userAnswer: ""
                    },
                    {
                        id: "C-1-QF",
                        type: "followup",
                        text: "4-1. 복지의 본질에 대해 새롭게 깨달은 점은 무엇인가요?",
                        keywords: "국가가 돕는 일, 모든 사람이 누릴 권리, 복지의 주체, 대상자, 시민",
                        answer: "복지는 '국가가 돕는 일'이 아니라 '모든 사람이 누릴 권리'라는 점입니다. 복지의 주체는 대상자가 아니라 시민 모두라는 관점을 가지게 되었습니다. [2학년 동아리활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "D-1",
                title: "💛 D. 정서 지원 프로그램",
                questions: [
                    {
                        id: "D-1-Q",
                        type: "main",
                        text: "5. 스트레스볼 만들기 활동이 학생 정서에 어떤 효과를 주었다고 생각하나요?",
                        keywords: "직접 만들기, 몰입, 안정감, 성취감, 긍정적 정서",
                        answer: "직접 손으로 만들며 몰입하는 과정에서 안정감이 생겼고, 완성 후 성취감을 통해 긍정적 정서가 강화되었습니다. [3학년 진로활동]",
                        userAnswer: ""
                    },
                    {
                        id: "D-1-QF",
                        type: "followup",
                        text: "5-1. 프로그램을 운영할 때 가장 중요한 점은 무엇이라고 생각하나요?",
                        keywords: "참여자의 집중도, 시간 효율, 과정 단순화, 즉각적인 체험",
                        answer: "참여자의 집중도와 시간 효율입니다. 과정을 단순화하고 즉각적인 체험을 중심으로 설계하는 것이 필요합니다. [3학년 진로활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "E-1",
                title: "🧡 E. 사회문제 및 제도 이해",
                questions: [
                    {
                        id: "E-1-Q",
                        type: "main",
                        text: "6. 저출산·고령화가 연금 제도에 미치는 영향은 무엇인가요?",
                        keywords: "부양 인구 감소, 수급자 증가, 연금 재정 악화, 미래 세대, 부담, 구조적 문제",
                        answer: "부양 인구는 줄고 수급자는 늘어나 연금 재정이 악화됩니다. 미래 세대의 부담이 커지는 구조적 문제가 발생합니다. [3학년 화법과 작문]",
                        userAnswer: ""
                    },
                    {
                        id: "E-1-QF",
                        type: "followup",
                        text: "6-1. 이 문제를 해결하기 위한 복지적 접근은 무엇이라고 생각하나요?",
                        keywords: "세대 간 재분배 원리, 기초연금, 사회안전망",
                        answer: "세대 간 재분배 원리를 강화하고, 기초연금과 같은 사회안전망을 보완해야 합니다. [3학년 화법과 작문]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "F-1",
                title: "💙 F. 사회문화 ― 노인 고독사",
                questions: [
                    {
                        id: "F-1-Q",
                        type: "main",
                        text: "7. 노인 고독사를 사회구조적으로 설명해 보세요.",
                        keywords: "가족 구조 변화, 부양 체계 약화, 1인 가구 증가, 공적 돌봄 부족",
                        answer: "가족 구조의 변화로 부양 체계가 약화되고, 1인 가구 증가 및 공적 돌봄 부족이 복합적으로 작용해 발생합니다. [3학년 사회문화]",
                        userAnswer: ""
                    },
                    {
                        id: "F-1-QF",
                        type: "followup",
                        text: "7-1. 이 문제 해결을 위해 복지 차원에서 가장 시급한 정책은 무엇인가요?",
                        keywords: "AI 기반 건강 확인 시스템, 지역 커뮤니티 돌봄망",
                        answer: "AI 기반 건강 확인 시스템 도입과 지역 커뮤니티 돌봄망 구축입니다. [3학년 사회문화]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "G-1",
                title: "💜 G. 생활과 윤리 ― 생명윤리와 자살관",
                questions: [
                    {
                        id: "G-1-Q",
                        type: "main",
                        text: "8. 흄·쇼펜하우어·칸트가 자살을 어떻게 바라봤는지 설명해 보세요.",
                        keywords: "흄, 개인의 자유, 쇼펜하우어, 고통 회피의 욕망, 칸트, 도덕법칙 위반, 사회적 예방",
                        answer: "흄은 개인의 자유로 보았고, 쇼펜하우어는 고통 회피의 욕망으로 해석했으며, 칸트는 도덕법칙 위반으로 봤습니다. 저는 사회가 예방에 나서야 한다는 입장입니다. [3학년 생활과 윤리]",
                        userAnswer: ""
                    },
                    {
                        id: "G-1-QF",
                        type: "followup",
                        text: "8-1. 사회가 자살을 적극적으로 예방해야 하는 이유는 무엇인가요?",
                        keywords: "개인의 자유, 생명 보호, 가치, 심리적 고통, 지원체계",
                        answer: "개인의 자유보다 생명 보호의 가치가 우선되며, 사회가 심리적 고통을 완화할 지원체계를 마련해야 하기 때문입니다. [3학년 생활과 윤리]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "G-2",
                title: "💜 G. 생활과 윤리 ― 생명윤리와 자살관",
                questions: [
                    {
                        id: "G-2-Q",
                        type: "main",
                        text: "9. 안락사 논의에서 인간의 존엄을 어떻게 해석하나요?",
                        keywords: "생명 연장, 삶을 결정할 권리, 존중, 존엄",
                        answer: "단순히 생명을 연장하는 것이 아닌, 인간이 스스로의 삶을 결정할 권리를 존중하는 데 존엄이 있다고 봅니다. [3학년 생활과 윤리]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "I-1",
                title: "💚 I. 융합수업 ― 아동 방임",
                questions: [
                    {
                        id: "I-1-Q",
                        type: "main",
                        text: "10. 아동 방임의 원인 중 가장 심각한 요인은 무엇인가요?",
                        keywords: "부모의 스트레스, 역할 수행 실패, 사회심리학적 원인",
                        answer: "부모의 스트레스 상황에서 역할 수행이 실패하는 사회심리학적 원인입니다. [3학년 융합수업]",
                        userAnswer: ""
                    },
                    {
                        id: "I-1-QF",
                        type: "followup",
                        text: "10-1. 이 문제를 예방하기 위한 교내 실천 방안은 무엇인가요?",
                        keywords: "예비 부모 교육, 체험형, 양육 상황, 시뮬레이션, 책임감",
                        answer: "예비 부모 교육을 체험형으로 운영하고, 학생이 직접 양육 상황을 시뮬레이션하며 책임감을 배우도록 설계해야 합니다. [3학년 융합수업]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "V-1",
                title: "🧩 V. 심리학 ― 공감과 상담기술",
                questions: [
                    {
                        id: "V-1-Q",
                        type: "main",
                        text: "11. 상담 상황에서 내담자의 페르소나 뒤 진짜 감정을 어떻게 파악하나요?",
                        keywords: "비언어 신호, 표정, 시선, 몸짓, 개방형 질문",
                        answer: "언어보다 표정, 시선, 몸짓 같은 비언어 신호를 주의 깊게 관찰하고, 개방형 질문으로 내담자가 스스로 이야기하도록 이끕니다. [3학년 심리학]",
                        userAnswer: ""
                    },
                    {
                        id: "V-1-QF",
                        type: "followup",
                        text: "11-1. 첫 면담에서 신뢰를 형성하기 위해 사용할 질문 한 가지를 예로 들어보세요.",
                        keywords: "감정 중심 질문, 자연스러운 대화",
                        answer: "'최근에 마음이 편안했던 순간이 언제였나요?' 같은 감정 중심 질문으로 자연스러운 대화를 엽니다. [3학년 심리학]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "V-2",
                title: "🧩 V. 심리학 ― 공감과 상담기술",
                questions: [
                    {
                        id: "V-2-Q",
                        type: "main",
                        text: "12. '어른 자아(Adult Ego State)'가 중요한 이유는 무엇이라고 생각하나요?",
                        keywords: "감정, 사실, 정보, 합리적 판단, 관계 안정",
                        answer: "감정이 아닌 사실과 정보를 기반으로 합리적인 판단을 가능하게 해 관계를 안정시키기 때문입니다. [3학년 심리학]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "N-1",
                title: "💛 N/O/P/W. 자율활동·동아리·리더십",
                questions: [
                    {
                        id: "N-1-Q",
                        type: "main",
                        text: "13. 부반장으로 활동하며 배운 점은 무엇인가요?",
                        keywords: "리더십, 명령, 배려, 불편, 관계, 신뢰",
                        answer: "리더십은 명령이 아니라 배려라는 것을 깨달았습니다. 친구들의 불편을 세심히 살피며 관계 속 신뢰의 가치를 배웠습니다. [1학년 자율활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "O-1",
                title: "💛 N/O/P/W. 자율활동·동아리·리더십",
                questions: [
                    {
                        id: "O-1-Q",
                        type: "main",
                        text: "14. 교육청 차원의 봉사활동 프로젝트에서 리더로서 가장 어려웠던 점은 무엇이었나요?",
                        keywords: "팀 의견, 충돌, 경청, 절충안, 조율",
                        answer: "팀 의견이 충돌할 때였습니다. 저는 모든 팀원의 의견을 경청하고, 절충안을 찾아 조율했습니다. [2학년 자율활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "P-1",
                title: "💛 N/O/P/W. 자율활동·동아리·리더십",
                questions: [
                    {
                        id: "P-1-Q",
                        type: "main",
                        text: "15. 『나는 왜 친구와 있어도 불편할까?』를 읽고 얻은 깨달음은 무엇인가요?",
                        keywords: "타인, 눈치, 관계의 불안, 자연스러운 현상, 진심, 표현, 용기",
                        answer: "'타인도 나만큼 눈치를 본다'는 구절이 인상 깊었습니다. 관계의 불안은 자연스러운 현상이며, 진심을 표현할 용기가 관계를 바꾼다는 걸 배웠습니다. [1학년 독서]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "W-1",
                title: "💛 N/O/P/W. 자율활동·동아리·리더십",
                questions: [
                    {
                        id: "W-1-Q",
                        type: "main",
                        text: "16. 또래압력 설문을 진행하며 느낀 점은 무엇인가요?",
                        keywords: "또래압력, 인식, 청소년 문제, 예방 교육",
                        answer: "친구들 대부분이 또래압력을 인식하지 못한 채 행동하고 있음을 깨달았습니다. 사회복지사로서 청소년 문제 예방 교육의 중요성을 느꼈습니다. [1학년 동아리활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "X-1",
                title: "❤️ X. 진로 변화",
                questions: [
                    {
                        id: "X-1-Q",
                        type: "main",
                        text: "17. 경찰행정학과에서 사회복지학과로 진로를 바꾸게 된 이유는 무엇인가요?",
                        keywords: "정의 실현, 경찰, 봉사, 사람의 변화, 가치",
                        answer: "정의를 실현하는 직업으로서 경찰에 매력을 느꼈지만, 직접 봉사를 하며 '사람의 변화를 돕는 일'에 더 큰 가치를 느꼈습니다. [1학년 진로활동 / 2학년 자율활동]",
                        userAnswer: ""
                    },
                    {
                        id: "X-1-QF",
                        type: "followup",
                        text: "17-1. 사회복지학과 진학 후 배우고 싶은 세부 분야는 무엇인가요?",
                        keywords: "정신 사회복지, 감정, 심리, 상담, 정책, 삶의 회복",
                        answer: "정신 사회복지 분야입니다. 사람의 감정과 심리를 이해하고 상담·정책을 융합하여 삶의 회복을 돕는 복지사가 되고 싶습니다. [3학년 진로활동 / 심리학]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "B-3",
                title: "💜 B. 복지 제도 및 통합교육",
                questions: [
                    {
                        id: "B-3-Q",
                        type: "main",
                        text: "18. 배리어프리의 의미를 본인은 어떻게 정의하나요?",
                        keywords: "신체적 장벽, 사회적 장벽, 심리적 장벽, 차별 해소, 접근권 보장, 사회적 약속",
                        answer: "배리어프리는 신체적, 사회적, 심리적 장벽을 제거해 누구나 차별 없이 살아갈 수 있도록 하는 개념입니다. 단순히 장애인의 편의를 위한 것이 아니라, 모두의 접근권을 보장하는 사회적 약속이라고 생각합니다. [3학년 자율활동]",
                        userAnswer: ""
                    },
                    {
                        id: "B-3-QF",
                        type: "followup",
                        text: "18-1. 학교에서 실천 가능한 배리어프리의 예시를 하나 들어보세요.",
                        keywords: "점자 표지, 음성 공지 시스템, 휠체어 동선, 접근성 개선",
                        answer: "시각장애 학생을 위한 점자 표지 설치, 음성 공지 시스템 구축, 휠체어 이동 동선 확보 등이 있습니다. [3학년 자율활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "C-2",
                title: "💚 C. 낙인효과 및 복지 인식",
                questions: [
                    {
                        id: "C-2-Q",
                        type: "main",
                        text: "19. 복지제도의 역효과를 조사했다고 했는데, 구체적인 사례를 들어 주세요.",
                        keywords: "임대아파트, 수급자, 차별, 사회적 배제, 복지제도 역효과",
                        answer: "임대아파트 수급자가 같은 단지 주민으로부터 차별을 받는 사례를 다뤘습니다. 복지제도의 취지가 잘못된 인식으로 인해 오히려 사회적 배제와 불편을 낳을 수 있음을 확인했습니다. [2학년 동아리활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "D-2",
                title: "💛 D. 정서 지원 프로그램",
                questions: [
                    {
                        id: "D-2-Q",
                        type: "main",
                        text: "20. 프로그램을 다시 운영한다면 어떤 부분을 개선하겠습니까?",
                        keywords: "제작 시간 효율, 감정 일지, 효과 정량화, 참여자 피드백",
                        answer: "제작 시간의 효율을 높이고, 참여자의 감정 변화를 기록하는 '감정 일지'를 추가하여 효과를 정량화하고 싶습니다. [3학년 진로활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "E-2",
                title: "🧡 E. 사회문제 및 제도 이해",
                questions: [
                    {
                        id: "E-2-Q",
                        type: "main",
                        text: "21. 핀란드식 혼합형 연금 제도에서 배울 점은 무엇인가요?",
                        keywords: "공공성, 자율성, 다층적 안정망, 불평등 심화, 경계",
                        answer: "공공성과 자율성을 함께 보장한다는 점입니다. 다만 고소득층 중심의 사적연금 확산이 불평등을 심화시킬 수 있다는 점을 경계해야 합니다. [3학년 화법과 작문]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "F-2",
                title: "💙 F. 사회문화 ― 노인 고독사",
                questions: [
                    {
                        id: "F-2-Q",
                        type: "main",
                        text: "22. 뒤르켐의 자살론으로 노인 고독사를 어떻게 설명할 수 있나요?",
                        keywords: "이기적 자살, 사회적 통합, 가족 단절, 지역공동체 단절",
                        answer: "사회적 통합이 약할수록 자살 위험이 커지는 '이기적 자살'로 설명할 수 있습니다. 가족 및 지역공동체의 단절이 원인입니다. [3학년 사회·문화]",
                        userAnswer: ""
                    },
                    {
                        id: "F-2-QF",
                        type: "followup",
                        text: "22-1. 같은 이론을 청소년 문제에 적용한다면 어떤 시사점이 있나요?",
                        keywords: "청소년 고립, 학교 부적응, 통합 부족, 사회적 연결",
                        answer: "청소년의 사회적 고립과 학교 부적응도 통합 부족에서 비롯된 문제로 볼 수 있습니다. [3학년 사회·문화]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "G-3",
                title: "💜 G. 생활과 윤리 ― 생명윤리와 자살관",
                questions: [
                    {
                        id: "G-3-Q",
                        type: "main",
                        text: "23. 본인이 가장 공감하는 관점은 무엇인가요?",
                        keywords: "사회적 책임, 개인 선택, 사회적 절망, 지원체계",
                        answer: "사회적 책임의 관점입니다. 개인의 선택 이전에 사회가 절망을 줄여야 한다고 생각합니다. [3학년 생활과 윤리]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "H-1",
                title: "🧩 H. 교육 및 제도",
                questions: [
                    {
                        id: "H-1-Q",
                        type: "main",
                        text: "24. 학교폭력이 개인 문제가 아닌 사회 구조 문제라고 생각한 이유는?",
                        keywords: "학교 문화, 제도 미비, 형식적 예방 교육, 미온적 처벌, 구조적 문제",
                        answer: "개인 성향보다 학교 문화와 제도의 미비가 더 큰 영향을 미친다고 봅니다. 형식적 예방 교육과 미온적 처벌이 문제입니다. [3학년 교육학]",
                        userAnswer: ""
                    },
                    {
                        id: "H-1-QF",
                        type: "followup",
                        text: "24-1. 구조적 해결을 위한 첫걸음은 무엇이라고 생각하나요?",
                        keywords: "피해자 보호, 매뉴얼 강화, 2차 피해 방지, 시스템 구축",
                        answer: "피해자 보호 중심의 매뉴얼 강화와 2차 피해 방지 시스템 구축이 필요합니다. [3학년 교육학]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "H-2",
                title: "🧩 H. 교육 및 제도",
                questions: [
                    {
                        id: "H-2-Q",
                        type: "main",
                        text: "25. 실효성 있는 학교폭력 예방을 위해 어떤 점이 보완되어야 할까요?",
                        keywords: "개별 데이터, 정서 모니터링, AI 상담, 연계 시스템",
                        answer: "학생 개별 데이터 기반의 정서 모니터링과 AI 상담 연계 시스템이 필요합니다. [3학년 교육학]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "I-2",
                title: "💚 I. 융합수업 ― 아동 방임",
                questions: [
                    {
                        id: "I-2-Q",
                        type: "main",
                        text: "26. 방임과 유기의 차이를 간단히 설명해 보세요.",
                        keywords: "방임, 유기, 보호자 존재, 양육 소홀, 보호 의무 포기, 기본권 침해",
                        answer: "방임은 보호자가 존재하지만 양육과 돌봄을 소홀히 하는 것이고, 유기는 아예 보호 의무를 포기하고 떠나는 것입니다. 둘 다 아동의 기본권 침해이지만 행위의 지속성과 고의성에서 차이가 있습니다. [3학년 융합수업]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "J-1",
                title: "🧩 J. 아동 보호 모델 및 제도",
                questions: [
                    {
                        id: "J-1-Q",
                        type: "main",
                        text: "27. Barnahus 모델의 장점은 무엇이라고 생각하나요?",
                        keywords: "경찰, 검찰, 사회복지사, 상담사, 의료진, 협력, 2차 피해 최소화",
                        answer: "Barnahus는 경찰, 검찰, 사회복지사, 상담사, 의료진이 한 공간에서 협력하는 아동학대 대응 모델로, 2차 피해를 최소화할 수 있다는 점이 가장 큰 장점입니다. [3학년 심화 국어]",
                        userAnswer: ""
                    },
                    {
                        id: "J-1-QF",
                        type: "followup",
                        text: "27-1. 우리나라에 도입할 때 가장 큰 장애 요인은 무엇일까요?",
                        keywords: "기관 간 협업, 정보 공유, 책임 조정, 통합 프로토콜",
                        answer: "기관 간 협업 구조가 분리되어 있어 정보 공유와 책임 조정이 어렵다는 점입니다. 이를 해결하기 위해서는 통합 프로토콜이 필요합니다. [3학년 심화 국어]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "K-1",
                title: "🌍 K. 국제 복지 비교",
                questions: [
                    {
                        id: "K-1-Q",
                        type: "main",
                        text: "28. 미국의 SNAP 제도가 인상 깊었다고 했는데, 어떤 점이 특히 기억에 남았나요?",
                        keywords: "소득 수준, 일정 기준, 포괄적 제도, 아동급식카드, 범위, 낙인감",
                        answer: "소득 수준에 상관없이 일정 기준 이하 가구 전체를 포괄하는 제도라는 점이 인상 깊었습니다. 우리나라의 아동급식카드보다 범위가 넓고, 낙인감이 적습니다. [3학년 영어권 문화]",
                        userAnswer: ""
                    },
                    {
                        id: "K-1-QF",
                        type: "followup",
                        text: "28-1. SNAP 제도를 한국에 적용할 때 주의할 점은 무엇이라고 생각하나요?",
                        keywords: "보편성 유지, 재정 부담, 부정 수급 방지, 세부 관리 기준",
                        answer: "제도의 보편성은 유지하되, 재정 부담과 부정 수급 방지를 위한 세부 관리 기준이 필요하다고 생각합니다. [3학년 영어권 문화]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "K-2",
                title: "🌍 K. 국제 복지 비교",
                questions: [
                    {
                        id: "K-2-Q",
                        type: "main",
                        text: "29. 보편 복지와 선별 복지의 차이를 한 줄로 설명해 보세요.",
                        keywords: "보편 복지, 선별 복지, 동일 제공, 차등 제공, 필요, 소득 수준",
                        answer: "보편 복지는 모두에게 동일하게 제공되는 제도이고, 선별 복지는 필요와 소득 수준에 따라 차등 제공되는 제도입니다. [3학년 영어권 문화]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "L-1",
                title: "🌍 L. 세계지리 ― 복지와 행복지수",
                questions: [
                    {
                        id: "L-1-Q",
                        type: "main",
                        text: "30. 핀란드와 아프가니스탄을 비교한 이유는 무엇인가요?",
                        keywords: "행복지수, 상하위 국가, 복지제도, 국민 삶의 질, 상관관계",
                        answer: "행복지수 상·하위 국가의 차이를 분석하여 복지제도와 국민 삶의 질의 상관관계를 탐구하기 위함이었습니다. [2학년 세계지리]",
                        userAnswer: ""
                    },
                    {
                        id: "L-1-QF",
                        type: "followup",
                        text: "30-1. 북유럽 국가들이 행복지수 상위권에 속하는 공통 이유는 무엇이라 생각하나요?",
                        keywords: "신뢰 사회, 투명한 정부, 보편적 복지 시스템, 공통 요인",
                        answer: "높은 신뢰 사회, 투명한 정부, 보편적 복지 시스템이 공통 요인이라고 생각합니다. [2학년 세계지리]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "L-2",
                title: "🌍 L. 세계지리 ― 복지와 행복지수",
                questions: [
                    {
                        id: "L-2-Q",
                        type: "main",
                        text: "31. 핀란드가 높은 행복지수를 유지하는 이유는 무엇입니까?",
                        keywords: "복지정책 안정성, 교육의 질, 정부 투명성, 핵심 요인",
                        answer: "복지정책의 안정성과 교육의 질, 그리고 정부 투명성이 핵심 요인입니다. [2학년 세계지리]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "L-3",
                title: "🌍 L. 세계지리 ― 복지와 행복지수",
                questions: [
                    {
                        id: "L-3-Q",
                        type: "main",
                        text: "32. 사회복지사가 불평등 완화를 위해 해야 할 역할은 무엇이라고 생각하나요?",
                        keywords: "제도 개선, 지역 간 격차 해소, 실천적 제안, 국제적 연대, 협력적 복지",
                        answer: "제도 개선과 지역 간 격차 해소를 위한 실천적 제안이 필요하며, 국제적 연대를 통해 협력적 복지를 추구해야 한다고 봅니다. [2학년 세계지리]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "N-2",
                title: "💛 N. 리더십·자율활동",
                questions: [
                    {
                        id: "N-2-Q",
                        type: "main",
                        text: "33. 학급 규칙 개정에서 가장 어려웠던 점은 무엇이었나요?",
                        keywords: "다양한 의견, 갈등, 회의, 경청, 절충안, 합의",
                        answer: "다양한 의견이 엇갈리며 회의가 길어졌던 점입니다. 저는 서로의 입장을 듣고 절충안을 제시해 합의를 이끌었습니다. [2학년 자율활동]",
                        userAnswer: ""
                    },
                    {
                        id: "N-2-QF",
                        type: "followup",
                        text: "33-1. 그 경험이 리더십에 어떤 영향을 주었나요?",
                        keywords: "리더십, 주도, 협력, 끌어내기",
                        answer: "리더십은 주도하는 것이 아니라 협력을 끌어내는 것이라는 걸 깨달았습니다. [2학년 자율활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "O-2",
                title: "💛 O. 아동학대·정서 발달",
                questions: [
                    {
                        id: "O-2-Q",
                        type: "main",
                        text: "34. 아동 정서 발달에서 가장 중요한 요인은 무엇이라고 생각하나요?",
                        keywords: "부모, 안정된 애착 관계, 핵심, 반응, 정서적 안전감",
                        answer: "부모의 안정된 애착 관계가 핵심입니다. 아이는 부모의 반응을 통해 정서적 안전감을 형성하기 때문입니다. [2학년 동아리활동]",
                        userAnswer: ""
                    },
                    {
                        id: "O-2-QF",
                        type: "followup",
                        text: "34-1. 사회복지사가 개입할 때 가장 조심해야 할 점은 무엇인가요?",
                        keywords: "부모, 아동, 신뢰 관계, 해치지 않기, 공감적 접근",
                        answer: "부모와 아동 간 신뢰 관계를 해치지 않도록 공감적 접근이 필요합니다. [2학년 동아리활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "O-3",
                title: "💛 O. 아동학대·정서 발달",
                questions: [
                    {
                        id: "O-3-Q",
                        type: "main",
                        text: "35. 아동학대 사건을 조사하며 느낀 점은 무엇이었나요?",
                        keywords: "학대, 단순 폭력, 사회적 방임, 결과, 예방 교육, 보호 체계",
                        answer: "학대는 단순 폭력이 아니라 사회적 방임의 결과라는 점을 배웠습니다. 예방 교육과 보호 체계 강화가 필수입니다. [2학년 동아리활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "R-3",
                title: "🌐 R. 영어·에세이",
                questions: [
                    {
                        id: "R-3-Q",
                        type: "main",
                        text: "36. 감정의 사회화란 무엇이라고 생각하나요?",
                        keywords: "양육자, 반응 관찰, 모방, 감정 학습, 과정",
                        answer: "양육자의 반응을 관찰하고 모방하며 감정을 학습하는 과정입니다. [2학년 영어Ⅰ]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "T-1",
                title: "🔬 T. 사회과제 연구",
                questions: [
                    {
                        id: "T-1-Q",
                        type: "main",
                        text: "37. 노인 주간보호시설 조사를 하며 가장 어려웠던 점은 무엇이었나요?",
                        keywords: "고령자, 설문 응답, 직접 읽어드리기, 진행",
                        answer: "고령자 대상 설문 응답이 어려워 직접 읽어드리며 진행했습니다. [2학년 사회과제 연구]",
                        userAnswer: ""
                    },
                    {
                        id: "T-1-QF",
                        type: "followup",
                        text: "37-1. 이 연구에서 얻은 결론은 무엇이었나요?",
                        keywords: "심리적 안정감, 신체적 효과, 제한적, 전문 운동관리사, 배치",
                        answer: "심리적 안정감은 높았지만 신체적 효과는 제한적이었으며, 전문 운동관리사 배치가 필요하다는 결론을 얻었습니다. [2학년 사회과제 연구]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "V-3",
                title: "🧩 V. 심리학 ― 공감과 상담기술",
                questions: [
                    {
                        id: "V-3-Q",
                        type: "main",
                        text: "38. 상담에서 '페르소나' 뒤의 진짜 마음을 파악하려면 어떻게 해야 할까요?",
                        keywords: "말, 행동, 표정, 시선, 비언어적 신호, 개방형 질문, 감정 표현",
                        answer: "말보다 행동과 표정, 시선 등 비언어적 신호를 관찰해야 합니다. 개방형 질문을 통해 내담자가 스스로 감정을 표현하도록 돕는 것이 중요합니다. [3학년 심리학]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "W-2",
                title: "💛 W. 리더십·자율활동",
                questions: [
                    {
                        id: "W-2-Q",
                        type: "main",
                        text: "39. 부반장으로서 기억에 남는 도움 사례는 무엇인가요?",
                        keywords: "친구, 신발 찢어짐, 슬리퍼, 빌려주기, 배려, 신뢰",
                        answer: "친구의 신발이 찢어졌을 때 제 슬리퍼를 빌려준 일이 있습니다. 사소한 배려가 신뢰를 만든다는 걸 느꼈습니다. [1학년 자율활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "W-3",
                title: "💛 W. 리더십·자율활동",
                questions: [
                    {
                        id: "W-3-Q",
                        type: "main",
                        text: "40. 아동 봉사활동 중 어려웠던 점은 무엇이었나요?",
                        keywords: "아이들, 거리감, 친근한 말투, 다가가기, 극복",
                        answer: "처음엔 아이들과의 거리감이 컸지만, 친근한 말투로 다가가며 극복했습니다. [1학년 자율활동]",
                        userAnswer: ""
                    },
                    {
                        id: "Y-1-Q",
                        type: "main",
                        text: "41. 부모·자녀 갈등을 과학적으로만 설명하기 어려운 이유는 무엇인가요?",
                        keywords: "전두엽 미성숙, 생물학적 요인, 신뢰, 가치관 차이, 심리, 문화 요인",
                        answer: "전두엽 미성숙 같은 생물학적 요인 외에도 신뢰와 가치관 차이 같은 심리·문화 요인이 작용하기 때문입니다. [2학년 생명과학Ⅰ]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "BB-1",
                title: "🎯 BB. 추가 면접 질문",
                questions: [
                    {
                        id: "BB-1-Q4",
                        type: "main",
                        text: "42. 생활기록부에 봉사활동이 많은데, 가장 의미 있었던 경험을 말해 주세요.",
                        keywords: "교육청 차원 봉사활동, 팀장, 마을 어르신, 반찬 배달, 환경정비, 기획, 홍보, 주도, 피드백, 필요한 존재",
                        answer: "가장 기억에 남는 봉사는 교육청 차원 봉사활동입니다. 팀장으로서 마을 어르신 대상 반찬 배달과 환경정비를 진행했는데, 단순 활동이 아니라 기획부터 홍보까지 주도했습니다. 봉사 후 피드백을 통해 '학생들이 와줘서 행복했다'는 어르신의 말씀이 잊히지 않았습니다. '누군가에게 필요한 존재가 된다는 감정'이 저를 성장시켰습니다. [2학년 자율활동]",
                        userAnswer: ""
                    },
                    {
                        id: "BB-1-Q5",
                        type: "main",
                        text: "43. 사회복지사가 공감 능력과 객관성을 동시에 유지하려면 어떻게 해야 하나요?",
                        keywords: "공감, 감정이입, 이해의 과정, 객관성, 공감적 거리두기, 라포 형성, 비언어적 신호, 관찰, 기록",
                        answer: "공감은 감정이입이 아니라 이해의 과정이라고 생각합니다. 내담자의 이야기에 완전히 빠져들면 객관성을 잃을 수 있기 때문에, '공감적 거리두기'가 필요합니다. 심리학 수업에서 라포를 형성하되 비언어적 신호를 관찰하고 기록하며 감정에 휩쓸리지 않는 방법을 배웠습니다. 이런 태도가 사회복지사에게도 중요하다고 생각합니다. [3학년 심리학]",
                        userAnswer: ""
                    },
                    {
                        id: "BB-1-Q6",
                        type: "main",
                        text: "44. 최근 우리 사회에서 가장 시급한 복지 문제는 무엇이라고 생각하나요?",
                        keywords: "고령자 돌봄 공백, 노인 주간시설, 정서적 안정감, 신체적 돌봄, 부족, 전문 인력 확충, 지역사회 연계",
                        answer: "저는 고령자 돌봄 공백이 가장 시급하다고 생각합니다. 노인 주간시설을 조사하며, 정서적 안정감은 있었지만 신체적 돌봄은 부족하다는 점을 느꼈습니다. 이를 보완하기 위해 전문 인력 확충과 지역사회 연계 시스템이 필요합니다. [2학년 사회과제연구]",
                        userAnswer: ""
                    },
                    {
                        id: "BB-1-Q7",
                        type: "main",
                        text: "45. 고령화가 심화되는 사회에서 사회복지의 역할은 어떻게 변해야 할까요?",
                        keywords: "도와주는 복지, 참여와 연대의 복지, 사회복지사, 지원자, 조력자, 세대 간 관계 회복, 통합적 복지, 어르신, 청소년, 세대 통합",
                        answer: "과거 복지는 '도와주는 복지'였다면, 앞으로는 '참여와 연대의 복지'로 나아가야 한다고 생각합니다. 사회복지사는 단순 지원자가 아니라 지역사회의 조력자 역할을 해야 하며, 세대 간 관계 회복을 통한 통합적 복지가 중요합니다. 저는 봉사활동에서 어르신과 청소년을 연결하는 세대 통합 활동을 제안한 경험이 있습니다. [3학년 자율활동]",
                        userAnswer: ""
                    },
                    {
                        id: "BB-1-Q8",
                        type: "main",
                        text: "46. 아동학대나 노인학대 문제 해결을 위해 사회복지사가 할 수 있는 일은 무엇인가요?",
                        keywords: "사후 개입, 예방 단계, 아동 방임, 부모 스트레스, 사회적 고립, 예비부모 교육, 상담 연계, 정례화, 학대 예방",
                        answer: "사회복지사는 사후 개입뿐 아니라 예방 단계에서 역할을 해야 합니다. 저는 융합수업에서 아동 방임의 원인을 부모 스트레스와 사회적 고립으로 분석했습니다. 예비부모 교육과 상담 연계 프로그램을 정례화해, 학대를 미리 막는 시스템을 구축해야 한다고 생각합니다. [3학년 융합수업]",
                        userAnswer: ""
                    },
                    {
                        id: "BB-1-Q9",
                        type: "main",
                        text: "47. 협동이 필요한 상황에서 갈등을 해결했던 경험이 있나요?",
                        keywords: "봉사 프로젝트, 팀원, 의견 충돌, 다수결, 의견 정리, 공유, 절충안, 리더십, 듣는 힘",
                        answer: "봉사 프로젝트 중 팀원 간 의견이 충돌했을 때, 다수결로 결정하지 않고 각자 의견을 정리해 공유하는 시간을 가졌습니다. 서로의 입장을 듣고 절충안을 마련하면서 프로젝트가 더 발전된 방향으로 진행됐습니다. 이 경험을 통해 '리더십은 말하는 힘보다 듣는 힘에서 나온다'는 걸 배웠습니다. [2학년 자율활동]",
                        userAnswer: ""
                    },
                    {
                        id: "BB-1-Q10",
                        type: "main",
                        text: "48. 팀워크를 발휘했던 구체적인 사례를 이야기해 주세요.",
                        keywords: "UCC 영어 프로젝트, 팀원, 참여도 차이, 영어 약함, 발음, 대사, 연습, 참여 유도, 완성도, 협력, 책임감",
                        answer: "UCC 영어 프로젝트에서 팀원 간 참여도 차이가 커서 어려움이 있었습니다. 저는 영어가 약한 친구에게 발음과 대사를 같이 연습하며 참여를 유도했습니다. 그 결과 완성도 높은 영상물을 제출할 수 있었고, 협력의 가치와 책임감을 동시에 배웠습니다. [2학년 영어Ⅰ]",
                        userAnswer: ""
                    },
                    {
                        id: "BB-1-Q11",
                        type: "main",
                        text: "49. 본인이 생각하는 '좋은 사회복지사'의 기준은 무엇인가요?",
                        keywords: "공감력, 실천력, 균형, 감정적 힘든 상황, 문제 분석, 대안 제시, 복지의 시작, 위로, 해결책, 동반자",
                        answer: "저는 공감력과 실천력의 균형을 가진 사람이 좋은 사회복지사라고 생각합니다. 봉사 현장에서 감정적으로 힘든 상황을 경험했지만, 문제를 분석하고 대안을 제시하는 과정이 진짜 복지의 시작임을 느꼈습니다. 단순히 위로하는 사람이 아닌, 함께 해결책을 찾는 동반자가 되고 싶습니다. [2학년 자율활동, 3학년 사회문화]",
                        userAnswer: ""
                    },
                    {
                        id: "BB-1-Q12",
                        type: "main",
                        text: "50. 복지 예산이 한정되어 있을 때, 어떤 집단을 우선 지원해야 한다고 생각하나요?",
                        keywords: "돌봄 사각지대, 아동, 고령층, 사회적 약자, 목소리, 사회복지, 약자 중심, 기회 평등, 사회 전체 복지",
                        answer: "저는 돌봄 사각지대에 놓인 아동과 고령층이 우선되어야 한다고 생각합니다. 사회적 약자는 스스로 목소리를 내기 어렵기 때문입니다. 사회복지는 약자 중심의 접근이 기본이며, 기회 평등이 실현될 때 사회 전체의 복지 수준이 높아집니다. [3학년 사회문화, 2학년 사회과제연구]",
                        userAnswer: ""
                    },
                    {
                        id: "BB-1-Q13",
                        type: "main",
                        text: "51. 사회복지사의 역할이 '시혜'가 아니라 '권리 보장'이라는 말의 의미를 설명해 주세요.",
                        keywords: "시혜, 도와주는 사람, 받는 사람, 복지, 인간 권리, 회복, 낙인효과, 복지 수급자, 국가 도움받는 존재, 권리 행사, 시민",
                        answer: "시혜는 '도와주는 사람과 받는 사람'의 관계를 전제로 하지만, 복지는 인간으로서의 권리를 회복하는 과정입니다. 저는 낙인효과 탐구를 통해 복지 수급자를 '국가 도움받는 존재'가 아닌 '자신의 권리를 행사하는 시민'으로 인식하는 전환이 필요하다고 느꼈습니다. [2학년 동아리활동]",
                        userAnswer: ""
                    },
                    {
                        id: "BB-1-Q14",
                        type: "main",
                        text: "52. 어려운 상황에서도 도덕적 판단을 내려야 했던 경험이 있나요?",
                        keywords: "봉사, 식사 배달, 순서, 팀원, 다툼, 도움받는 분, 입장, 배려, 결정, 팀 단합, 윤리적 판단, 이익, 옳음",
                        answer: "봉사 중 식사 배달 순서를 놓고 팀원 간 다툼이 있었는데, 저는 '도움을 받는 분의 입장에서 생각하자'라고 제안했습니다. 상대를 배려하는 결정이 결국 팀 전체를 단합시켰습니다. 이후 저는 윤리적 판단이란 '이익이 아닌 옳음을 선택하는 것'이라는 걸 깨달았습니다. [2학년 자율활동]",
                        userAnswer: ""
                    }
                ]
            },
            {
                id: "K-3",
                title: "🔹 K. 심화 추가 질문 (전공 심화)",
                questions: [
                    {
                        id: "K-3-Q1",
                        type: "main",
                        text: "53. '좋은 복지'란 무엇이라고 생각하나요?",
                        keywords: "사람의 존엄, 회복, 지원, 삶의 회복, 복지의 본질",
                        answer: "저는 좋은 복지를 '사람의 존엄을 회복시키는 복지'라고 생각합니다. 단순한 지원이 아닌, 스스로 삶을 회복할 수 있도록 돕는 것이 복지의 본질입니다. [3학년 사회문화]",
                        userAnswer: ""
                    },
                    {
                        id: "K-3-Q2",
                        type: "main",
                        text: "54. 복지정책에 AI 기술을 활용할 때 주의해야 할 점은 무엇일까요?",
                        keywords: "데이터 기반, 효율성, 인간의 감정, 맥락, AI 도구, 공감, 윤리적 판단",
                        answer: "데이터 기반의 효율성은 높아지지만, 인간의 감정과 맥락을 잃을 위험이 있습니다. AI는 도구일 뿐, 최종 판단은 사람의 공감과 윤리적 판단이 담당해야 합니다. [3학년 사회문화/심리학]",
                        userAnswer: ""
                    },
                    {
                        id: "K-3-Q3",
                        type: "main",
                        text: "55. 사회복지사에게 가장 중요한 윤리적 태도는 무엇이라고 생각하나요?",
                        keywords: "공감, 비밀보장, 판단하지 않는 태도, 내담자, 약점, 안전한 공간",
                        answer: "공감, 비밀보장, 판단하지 않는 태도입니다. 내담자가 자신의 약점을 드러내는 순간에도 복지사는 '안전한 공간'이 되어야 합니다. [3학년 심리학]",
                        userAnswer: ""
                    },
                    {
                        id: "K-3-Q4",
                        type: "main",
                        text: "56. 청소년 복지와 노인 복지 중 어떤 영역을 더 중시하나요?",
                        keywords: "한 세대, 우선, 세대 간 연대, 청소년, 건강, 노인 복지, 유지",
                        answer: "한 세대를 우선하기보다, 세대 간 연대를 만드는 복지가 중요합니다. 청소년이 건강히 자라야 노인의 복지도 유지됩니다. [3학년 사회문화]",
                        userAnswer: ""
                    },
                    {
                        id: "K-3-Q5",
                        type: "main",
                        text: "57. 학생으로서 지역사회 복지 활성화를 위해 할 수 있는 일은 무엇인가요?",
                        keywords: "지역 어르신, 안부 전화, 청소년 봉사, 연계 캠페인, 학교, 지역 복지, 중심",
                        answer: "지역 어르신과의 안부 전화, 청소년 봉사 연계 캠페인 등을 통해 학교가 지역 복지의 중심이 되는 구조를 만들고 싶습니다. [3학년 자율활동]",
                        userAnswer: ""
                    }
                ]
            }
        ];

        // 즉시 실행 함수로 모든 코드를 감싸기
        (function() {
            // 전역 변수 정의
            let currentMode = "sequential";
            let currentSetIndex = 0;
            let currentQuestionIndex = 0;
            let flatOrder = [];
            let currentFlatIndex = 0;
            let setOrder = Array.from({ length: questionSets.length }, (_, i) => i);
            let bookmarkedQuestions = [];
            let timerInterval;
            let seconds = 0;

            // DOM 요소 참조
            const tabs = document.querySelectorAll('.tab');
            const questionElement = document.querySelector('.question');
            const keywordsContent = document.querySelector('.keywords-content');
            const exampleAnswerContent = document.querySelector('.example-answer-content');
            const keywordsSection = document.querySelector('.keywords-section');
            const exampleAnswerSection = document.querySelector('.example-answer-section');
            const keywordsTab = document.querySelector('.keywords-tab');
            const exampleTab = document.querySelector('.example-tab');
            const bookmarkButton = document.querySelector('.bookmark-button');
            const homeButton = document.getElementById('home');
            const prevButton = document.getElementById('prev');
            const nextButton = document.getElementById('next');
            const timerElement = document.querySelector('.timer');
            const startTimerButton = document.getElementById('start-timer');
            const pauseTimerButton = document.getElementById('pause-timer');
            const resetTimerButton = document.getElementById('reset-timer');

        // 이벤트 리스너 등록
        tabs.forEach(tab => {
            const handleTabClick = (e) => {
                e.preventDefault();
                e.stopPropagation();
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                setMode(tab.dataset.mode);
            };
            
            tab.addEventListener('click', handleTabClick);
            tab.addEventListener('touchend', handleTabClick);
        });

        // 터치 이벤트를 위한 공통 핸들러 함수
        const addTouchEvents = (element, handler) => {
            if (!element) return;
            const touchHandler = (e) => {
                e.preventDefault();
                e.stopPropagation();
                handler();
            };
            
            element.addEventListener('click', handler);
            element.addEventListener('touchend', touchHandler);
        };

        addTouchEvents(homeButton, () => {
            if (currentMode === "sequential" || currentMode === "reverse") {
                currentFlatIndex = 0;
            } else {
                currentSetIndex = 0;
                currentQuestionIndex = 0;
            }
            displayCurrentQuestion();
        });

        addTouchEvents(prevButton, () => {
            if (currentMode === "bookmark") {
                currentSetIndex = (currentSetIndex - 1 + bookmarkedQuestions.length) % bookmarkedQuestions.length;
            } else if (currentMode === "sequential" || currentMode === "reverse") {
                // 번호순/역순 모두 flatOrder 기준으로 이동
                if (!flatOrder || flatOrder.length === 0) {
                    flatOrder = buildFlatOrder();
                    flatOrder.sort((a, b) => a.sortKey - b.sortKey);
                    if (currentMode === "reverse") flatOrder.reverse();
                }
                currentFlatIndex = (currentFlatIndex - 1 + flatOrder.length) % flatOrder.length;
            } else if (currentMode === "reverse") {
                // 역순 모드: 1→2→3...→57 순서로 되돌아가기
                const currentSet = questionSets[setOrder[currentSetIndex]];
                if (currentQuestionIndex < currentSet.questions.length - 1) {
                    currentQuestionIndex++;
                } else {
                    // 역순 배열에서 이전(큰 번호) 세트로 이동
                    currentSetIndex = (currentSetIndex - 1 + setOrder.length) % setOrder.length;
                    currentQuestionIndex = 0; // 해당 세트의 첫 문제로 이동(번호가 더 큼)
                }
            } else {
                if (currentQuestionIndex > 0) {
                    currentQuestionIndex--;
                } else {
                    currentSetIndex = (currentSetIndex - 1 + setOrder.length) % setOrder.length;
                    currentQuestionIndex = questionSets[setOrder[currentSetIndex]].questions.length - 1;
                }
            }
            displayCurrentQuestion();
        });

        addTouchEvents(nextButton, () => {
            if (currentMode === "bookmark") {
                currentSetIndex = (currentSetIndex + 1) % bookmarkedQuestions.length;
            } else if (currentMode === "sequential" || currentMode === "reverse") {
                // 번호순/역순 모두 flatOrder 기준으로 이동
                if (!flatOrder || flatOrder.length === 0) {
                    flatOrder = buildFlatOrder();
                    flatOrder.sort((a, b) => a.sortKey - b.sortKey);
                    if (currentMode === "reverse") flatOrder.reverse();
                }
                currentFlatIndex = (currentFlatIndex + 1) % flatOrder.length;
            } else if (currentMode === "reverse") {
                // 역순 모드: 57→56→55...→1 순서로 진행
                const currentSet = questionSets[setOrder[currentSetIndex]];
                if (currentQuestionIndex > 0) {
                    currentQuestionIndex--;
                } else {
                    // 역순 배열에서 다음(작은 번호) 세트로 이동
                    currentSetIndex = (currentSetIndex + 1) % setOrder.length;
                    currentQuestionIndex = questionSets[setOrder[currentSetIndex]].questions.length - 1; // 해당 세트의 마지막 문제로 이동(번호가 더 작음)
                }
            } else {
                const currentSet = questionSets[setOrder[currentSetIndex]];
                if (currentQuestionIndex < currentSet.questions.length - 1) {
                    currentQuestionIndex++;
                } else {
                    currentSetIndex = (currentSetIndex + 1) % setOrder.length;
                    currentQuestionIndex = 0;
                }
            }
            displayCurrentQuestion();
        });

        addTouchEvents(bookmarkButton, toggleBookmark);

        const handleKeywordsTab = () => {
            keywordsSection.classList.toggle('hidden');
            exampleAnswerSection.classList.add('hidden');
            
            if (!keywordsSection.classList.contains('hidden')) {
                keywordsTab.style.transform = 'scale(1.05)';
                keywordsTab.style.boxShadow = '0 15px 30px rgba(30, 87, 153, 0.4)';
            } else {
                keywordsTab.style.transform = 'scale(1)';
                keywordsTab.style.boxShadow = '0 10px 20px rgba(30, 87, 153, 0.3)';
            }
            
            exampleTab.style.transform = 'scale(1)';
            exampleTab.style.boxShadow = '0 10px 20px rgba(30, 87, 153, 0.3)';
        };

        const handleExampleTab = () => {
            exampleAnswerSection.classList.toggle('hidden');
            keywordsSection.classList.add('hidden');
            
            if (!exampleAnswerSection.classList.contains('hidden')) {
                exampleTab.style.transform = 'scale(1.05)';
                exampleTab.style.boxShadow = '0 15px 30px rgba(30, 87, 153, 0.4)';
            } else {
                exampleTab.style.transform = 'scale(1)';
                exampleTab.style.boxShadow = '0 10px 20px rgba(30, 87, 153, 0.3)';
            }
            
            keywordsTab.style.transform = 'scale(1)';
            keywordsTab.style.boxShadow = '0 10px 20px rgba(30, 87, 153, 0.3)';
        };

        addTouchEvents(keywordsTab, handleKeywordsTab);
        addTouchEvents(exampleTab, handleExampleTab);

        // 타이머 관련 이벤트 리스너
        addTouchEvents(startTimerButton, startTimer);
        addTouchEvents(pauseTimerButton, pauseTimer);
        addTouchEvents(resetTimerButton, resetTimer);

        // 모드 설정 함수
        function setMode(mode) {
            currentMode = mode;
            
            // questionSets가 없는 경우 처리
            if (!questionSets || questionSets.length === 0) {
                console.error("questionSets가 정의되지 않았습니다.");
                return;
            }
            
            switch (mode) {
                case "sequential":
                    setOrder = Array.from({ length: questionSets.length }, (_, i) => i);
                    // 번호 기반 flatOrder 사용 준비
                    flatOrder = buildFlatOrder();
                    flatOrder.sort((a, b) => a.sortKey - b.sortKey);
                    currentFlatIndex = 0;
                    break;
                case "reverse":
                    // 역순 모드: 번호 기준 내림차순
                    setOrder = Array.from({ length: questionSets.length }, (_, i) => questionSets.length - 1 - i);
                    flatOrder = buildFlatOrder();
                    flatOrder.sort((a, b) => b.sortKey - a.sortKey);
                    currentFlatIndex = 0;
                    break;
                case "random":
                    setOrder = Array.from({ length: questionSets.length }, (_, i) => i);
                    shuffleArray(setOrder);
                    break;
                case "bookmark":
                    if (bookmarkedQuestions.length === 0) {
                        alert("북마크한 문제가 없습니다.");
                        tabs[0].click(); // 번호순 모드로 전환
                        return;
                    }
                    break;
            }

            // 현재 세트와 문제 인덱스 초기화
            if (mode === "sequential" || mode === "reverse") {
                currentFlatIndex = 0;
            } else {
                currentSetIndex = 0;
                currentQuestionIndex = 0;
            }
            displayCurrentQuestion();
        }

        // 현재 문제 표시 함수
        function displayCurrentQuestion() {
            let currentSet, currentQuestion;

            // questionSets가 비어있거나 setOrder가 비어있는 경우 처리
            if (!questionSets || questionSets.length === 0) {
                questionElement.textContent = "문제가 준비되지 않았습니다. 문제를 추가해주세요.";
                return;
            }

            if (currentMode === "bookmark" && bookmarkedQuestions.length > 0) {
                // 북마크 모드일 경우
                const bookmark = bookmarkedQuestions[currentSetIndex];
                currentSet = questionSets.find(set => set.id === bookmark.setId);
                currentQuestion = currentSet ? currentSet.questions.find(q => q.id === bookmark.questionId) : null;
            } else if (currentMode === "sequential" || currentMode === "reverse") {
                // 번호 기반 flatOrder 사용
                if (!flatOrder || flatOrder.length === 0) {
                    flatOrder = buildFlatOrder();
                    flatOrder.sort((a, b) => a.sortKey - b.sortKey);
                    if (currentMode === "reverse") flatOrder.reverse();
                    currentFlatIndex = 0;
                }
                const entry = flatOrder[currentFlatIndex];
                currentSet = questionSets[entry.setIndex];
                currentQuestion = currentSet.questions[entry.questionIndex];
            } else {
                // 일반 모드일 경우
                if (!setOrder || setOrder.length === 0) {
                    setOrder = Array.from({ length: questionSets.length }, (_, i) => i);
                }
                currentSet = questionSets[setOrder[currentSetIndex]];
                currentQuestion = currentSet ? currentSet.questions[currentQuestionIndex] : null;
            }

            // 문제를 찾지 못한 경우 처리
            if (!currentSet || !currentQuestion) {
                questionElement.textContent = "문제를 찾을 수 없습니다.";
                return;
            }

            // 세트 제목 표시
            const setTitleElement = document.querySelector('.set-title');
            setTitleElement.textContent = currentSet.title;
            
            // 문제 번호 추출 또는 생성
            let questionNumber = '';
            let questionContent = currentQuestion.text;
            
            // 문제 번호가 이미 있는지 확인 (1., 1-1. 등)
            const questionNumberMatch = currentQuestion.text.match(/^(\d+\.|\d+-\d+\.)\s?/);
            if (questionNumberMatch) {
                questionNumber = questionNumberMatch[1];
                questionContent = currentQuestion.text.substring(questionNumberMatch[0].length);
            } else {
                // 문제 ID에서 번호 추출 (예: C-1-QFC에서 13 추출)
                const idMatch = currentQuestion.id.match(/^([A-Z])-(\d+)/);
                if (idMatch) {
                    const setLetter = idMatch[1];
                    const setNumber = parseInt(idMatch[2]);
                    
                    // 문제 타입에 따라 번호 생성
                    if (currentQuestion.type === "main") {
                        questionNumber = `${10 * (setLetter.charCodeAt(0) - 'A'.charCodeAt(0)) + setNumber}.`;
                    } else if (currentQuestion.type === "followup") {
                        questionNumber = `${10 * (setLetter.charCodeAt(0) - 'A'.charCodeAt(0)) + setNumber}-1.`;
                    } else if (currentQuestion.type === "concept") {
                        // 개념 질문은 주요 질문 번호에 -2 추가
                        questionNumber = `${10 * (setLetter.charCodeAt(0) - 'A'.charCodeAt(0)) + setNumber}-2.`;
                    } else if (currentQuestion.type === "apply") {
                        // 적용 질문은 주요 질문 번호에 -3 추가
                        questionNumber = `${10 * (setLetter.charCodeAt(0) - 'A'.charCodeAt(0)) + setNumber}-3.`;
                    }
                }
            }
            
            // 문제 정보 표시
            questionElement.textContent = `${questionNumber} ${questionContent}`;
            keywordsContent.textContent = currentQuestion.keywords;
            exampleAnswerContent.textContent = currentQuestion.answer;

            // 북마크 상태 표시
            const isBookmarked = bookmarkedQuestions.some(
                bookmark => bookmark.setId === currentSet.id && bookmark.questionId === currentQuestion.id
            );
            
            if (isBookmarked) {
                bookmarkButton.classList.add('active');
            } else {
                bookmarkButton.classList.remove('active');
            }

            // 답변 섹션 숨기기
            keywordsSection.classList.add('hidden');
            exampleAnswerSection.classList.add('hidden');
        }

        // 번호 정렬용 flatOrder 구축
        function buildFlatOrder() {
            const result = [];
            for (let si = 0; si < questionSets.length; si++) {
                const set = questionSets[si];
                for (let qi = 0; qi < set.questions.length; qi++) {
                    const q = set.questions[qi];
                    const sortKey = getQuestionSortKey(q);
                    result.push({ setIndex: si, questionIndex: qi, sortKey });
                }
            }
            return result;
        }

        // 질문 텍스트에서 번호를 추출해 정렬 키 생성
        function getQuestionSortKey(question) {
            // 우선 텍스트에서 '42.' 또는 '42-1.' 형태 파싱(공백 허용)
            const m = question.text.match(/^(\d+)(?:-(\d+))?\.\s?/);
            if (m) {
                const main = parseInt(m[1], 10);
                const sub = m[2] ? parseInt(m[2], 10) : 0;
                return main + sub / 10;
            }
            // 텍스트에 번호가 없으면 기존 ID 기반 규칙을 사용
            const idMatch = question.id.match(/^([A-Z])-(\d+)/);
            if (idMatch) {
                const setLetter = idMatch[1];
                const setNumber = parseInt(idMatch[2], 10);
                const base = 10 * (setLetter.charCodeAt(0) - 'A'.charCodeAt(0)) + setNumber;
                if (question.type === "followup") return base + 0.1;
                if (question.type === "concept") return base + 0.2;
                if (question.type === "apply") return base + 0.3;
                return base;
            }
            // 마지막 fallback: 매우 큰 값으로 뒤로 밀기
            return Number.MAX_SAFE_INTEGER;
        }

        // 북마크 토글 함수
        function toggleBookmark() {
            let currentSet, currentQuestion;
            if (currentMode === "bookmark" && bookmarkedQuestions.length > 0) {
                const bookmark = bookmarkedQuestions[currentSetIndex];
                currentSet = questionSets.find(set => set.id === bookmark.setId);
                currentQuestion = currentSet.questions.find(q => q.id === bookmark.questionId);
            } else {
                currentSet = questionSets[setOrder[currentSetIndex]];
                currentQuestion = currentSet.questions[currentQuestionIndex];
            }
            
            const bookmarkIndex = bookmarkedQuestions.findIndex(
                bookmark => bookmark.setId === currentSet.id && bookmark.questionId === currentQuestion.id
            );
            
            if (bookmarkIndex === -1) {
                // 북마크 추가
                bookmarkedQuestions.push({
                    setId: currentSet.id,
                    questionId: currentQuestion.id
                });
                bookmarkButton.classList.add('active');
            } else {
                // 북마크 제거
                bookmarkedQuestions.splice(bookmarkIndex, 1);
                bookmarkButton.classList.remove('active');
                
                // 북마크 모드에서 북마크를 제거하는 경우
                if (currentMode === "bookmark") {
                    if (bookmarkedQuestions.length === 0) {
                        alert("북마크한 문제가 없습니다. 번호순 모드로 전환합니다.");
                        setMode("sequential");
                        return;
                    }
                    
                    // 현재 인덱스 조정
                    if (currentSetIndex >= bookmarkedQuestions.length) {
                        currentSetIndex = bookmarkedQuestions.length - 1;
                    }
                    displayCurrentQuestion();
                }
            }
        }

        // 배열을 무작위로 섞는 함수 (Fisher-Yates 알고리즘)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // 타이머 시작 함수
        function startTimer() {
            if (!timerInterval) {
                timerInterval = setInterval(() => {
                    seconds++;
                    updateTimerDisplay();
                }, 1000);
            }
        }

        // 타이머 일시정지 함수
        function pauseTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
        }

        // 타이머 초기화 함수
        function resetTimer() {
            pauseTimer();
            seconds = 0;
            updateTimerDisplay();
        }

        // 타이머 표시 업데이트 함수
        function updateTimerDisplay() {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }

        // 초기 문제 표시
        if (questionSets && questionSets.length > 0) {
            displayCurrentQuestion();
        } else {
            if (questionElement) {
                questionElement.textContent = "문제가 준비되지 않았습니다. 문제를 추가해주세요.";
            }
        }

        })(); // 즉시 실행 함수 종료
    </script>
</body>
</html>